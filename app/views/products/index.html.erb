<h1>Product Breakdown Structure</h1>
<nav class="navbar navbar-default" role="navigation">
  <div class="collapse navbar-collapse">
    <div class="navbar-left">
      <button type="button" class="btn btn-sm navbar-btn" id="product-new"><span class="glyphicon glyphicon-plus"></span> New</button>
      <button type="button" class="btn btn-sm navbar-btn" id="product-rename"><span class="glyphicon glyphicon-pencil"></span> Rename</button>
      <button type="button" class="btn btn-sm navbar-btn" id="product-remove"><span class="glyphicon glyphicon-remove"></span> Remove</button>
    </div>
    <div class="navbar-right">
      <button type="button" class="btn btn-sm navbar-btn" id="product-save"><span class="glyphicon glyphicon-save"></span> Save</button>
    </div>
  </div>
</nav>

<div id="jstree_test"></div>
<script>
  var tree = $('#jstree_test');
  $('#jstree_test')
    .jstree({
      "core" : {
        "check_callback" : true,
        "data" : {
          "url" : "<%= project_products_path(@project, :format => :json) %>",
          "data" : function(node) {
            return { 'id' : node.id, 'text' : 'test' };
          }
        },
      },
      "types" : {
        "#" : { "max_depth" : 3, "valid_children" : ["root"] },
        0 : { "valid_children" : [1] },
        1 : { "valid_children" : [2] },
        2 : { "valid_children" : [3] },
        3 : { "icon" : "glyphicon glyphicon-tasks", "max_children" : 0, "valid_children" : [] }
      },
      "plugins" : [ "dnd", "types", "wholerow" ]
  }).bind('ready.jstree', function() {
    $(this).jstree('open_all').jstree('open_all').jstree('open_all');
  });
</script>